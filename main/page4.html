<html>

<head>
    <link rel="stylesheet" href="../public/swiper-bundle.min.css" />
    <link rel="stylesheet" href="../public/page4.css">
    <style>

    </style>
</head>

<body>

    <!-- Swiper -->
    <div class="swiper-container two">
        <div class="swiper-wrapper">
            <!-- Card 1-->
            <div class="swiper-slide">
                <div class="slider-image">
                    <div class="custom-card">
                        <div class="cust-card-img img1">
                            <div class="cust-card-title">Koebner_Phenomenon</div>

                        </div>
                        <div class="cust-card-desc">

                            The Koebner phenomenon is when skin conditions like psoriasis or eczema develop in areas
                            where the skin has been injured or irritated.It's like the skin is "reacting" to the injury
                            by showing signs of the condition.
                        </div>
                        <div class="cust-level-sel">
                            <span id="level_1_sel_val">-</span>
                        </div>
                        <div class="cust-rbtn-container">
                            <label class="rbtn_lvl1"><input class="custom-control-input" type="radio" value="0"
                                    name="radioset1" />0</label>
                            <label class="rbtn_lvl1"><input class="custom-control-input" type="radio" value="1"
                                    name="radioset1" />1</label>
                            <label class="rbtn_lvl1"><input class="custom-control-input" type="radio" value="2"
                                    name="radioset1" />2</label>
                            <label class="rbtn_lvl1"><input class="custom-control-input" type="radio" value="3"
                                    name="radioset1" />3</label>
                        </div>

                    </div>
                </div>
            </div>
            <!-- Card 2-->
            <div class="swiper-slide">
                <div class="slider-image">
                    <div class="custom-card">
                        <div class="cust-card-img img2">
                            <div class="cust-card-title">Follicular_Papules</div>

                        </div>
                        <div class="cust-card-desc">

                            Follicular papules are small, raised bumps that develop around hair follicles on the
                            skin.These papules often appear red or skin-colored and may be accompanied by itching or
                            discomfort.
                        </div>
                        <div class="cust-level-sel">
                            <span id="level_2_sel_val">-</span>
                        </div>
                        <div class="cust-rbtn-container">
                            <label class="rbtn_lvl2"><input class="custom-control-input" type="radio" value="0"
                                    name="radioset2" />0</label>
                            <label class="rbtn_lvl2"><input class="custom-control-input" type="radio" value="1"
                                    name="radioset2" />1</label>
                            <label class="rbtn_lvl2"><input class="custom-control-input" type="radio" value="2"
                                    name="radioset2" />2</label>
                            <label class="rbtn_lvl2"><input class="custom-control-input" type="radio" value="3"
                                    name="radioset2" />3</label>
                        </div>

                    </div>
                </div>
            </div>
            <!-- Card 3-->
            <div class="swiper-slide">
                <div class="slider-image">
                    <div class="custom-card">
                        <div class="cust-card-img img3">
                            <div class="cust-card-title">Fibrosis_Papillary_Dermis</div>

                        </div>
                        <div class="cust-card-desc">

                            Fibrosis of the papillary dermis refers to the formation of excess fibrous tissue in the
                            upper layer of the skin known as the papillary dermis. This condition can occur due to
                            various factors such as chronic inflammation, injury, or certain skin disorders.
                        </div>
                        <div class="cust-level-sel">
                            <span id="level_3_sel_val">-</span>
                        </div>
                        <div class="cust-rbtn-container">
                            <label class="rbtn_lvl3"><input class="custom-control-input" type="radio" value="0"
                                    name="radioset3" />0</label>
                            <label class="rbtn_lvl3"><input class="custom-control-input" type="radio" value="1"
                                    name="radioset3" />1</label>
                            <label class="rbtn_lvl3"><input class="custom-control-input" type="radio" value="2"
                                    name="radioset3" />2</label>
                            <label class="rbtn_lvl3"><input class="custom-control-input" type="radio" value="3"
                                    name="radioset3" />3</label>
                        </div>

                    </div>
                </div>
            </div>
            <!-- Card 4-->
            <div class="swiper-slide">
                <div class="slider-image">
                    <div class="custom-card">
                        <div class="cust-card-img img4">
                            <div class="cust-card-title">Clubbing_Rete_Ridges</div>

                        </div>
                        <div class="cust-card-desc">

                            Clubbing of rete ridges refers to a dermatological condition where there is an abnormal
                            enlargement or rounding of the tips of the dermal papillae, which are projections in the
                            skin's upper layer (epidermis).
                        </div>
                        <div class="cust-level-sel">
                            <span id="level_4_sel_val">-</span>
                        </div>
                        <div class="cust-rbtn-container">
                            <label class="rbtn_lvl4"><input class="custom-control-input" type="radio" value="0"
                                    name="radioset4" />0</label>
                            <label class="rbtn_lvl4"><input class="custom-control-input" type="radio" value="1"
                                    name="radioset4" />1</label>
                            <label class="rbtn_lvl4"><input class="custom-control-input" type="radio" value="2"
                                    name="radioset4" />2</label>
                            <label class="rbtn_lvl4"><input class="custom-control-input" type="radio" value="3"
                                    name="radioset4" />3</label>
                        </div>

                    </div>
                </div>
            </div>
            <!-- Card 5-->
            <div class="swiper-slide">
                <div class="slider-image">
                    <div class="custom-card">
                        <div class="cust-card-img img5">
                            <div class="cust-card-title">Disappearance_Granular_Layer</div>

                        </div>
                        <div class="cust-card-desc">

                            The term "disappearance of the granular layer" refers to a dermatological condition
                            characterized by the loss or reduction of the granular layer in the epidermis of the skin.
                        </div>
                        <div class="cust-level-sel">
                            <span id="level_5_sel_val">-</span>
                        </div>
                        <div class="cust-rbtn-container">
                            <label class="rbtn_lvl5"><input class="custom-control-input" type="radio" value="0"
                                    name="radioset5" />0</label>
                            <label class="rbtn_lvl5"><input class="custom-control-input" type="radio" value="1"
                                    name="radioset5" />1</label>
                            <label class="rbtn_lvl5"><input class="custom-control-input" type="radio" value="2"
                                    name="radioset5" />2</label>
                            <label class="rbtn_lvl5"><input class="custom-control-input" type="radio" value="3"
                                    name="radioset5" />3</label>
                        </div>

                    </div>
                </div>
            </div>
            <!-- Card 6-->
            <div class="swiper-slide">
                <div class="slider-image">
                    <div class="custom-card">
                        <div class="cust-card-img img6">
                            <div class="cust-card-title">Vacuolisation_Damage_Basal_Layer</div>

                        </div>
                        <div class="cust-card-desc">
                            Vacuolization refers to the formation of small empty spaces or vacuoles within cells. When
                            vacuolization occurs in the basal layer of the skin, it can indicate damage or abnormalities
                            in the basal cells, which are located at the bottom layer of the epidermis.
                        </div>
                        <div class="cust-level-sel">
                            <span id="level_6_sel_val">-</span>
                        </div>
                        <div class="cust-rbtn-container">
                            <label class="rbtn_lvl6"><input class="custom-control-input" type="radio" value="0"
                                    name="radioset6" />0</label>
                            <label class="rbtn_lvl6"><input class="custom-control-input" type="radio" value="1"
                                    name="radioset6" />1</label>
                            <label class="rbtn_lvl6"><input class="custom-control-input" type="radio" value="2"
                                    name="radioset6" />2</label>
                            <label class="rbtn_lvl6"><input class="custom-control-input" type="radio" value="3"
                                    name="radioset6" />3</label>
                        </div>

                    </div>
                </div>
            </div>
            <!-- Add Pagination -->


        </div>
        <div class="swiper-pagination"></div>
    </div>
    
    <div style="width: 100%; font-size: xx-large; text-align: center;"><p>OUTPUT: </p> <p id="output"></p> <p>Reffer the skin guide <a href="http://127.0.0.1:5500/main/skingiude.html">here</a></p></div>

    <div style="text-align: center; margin-top: 15px;">
        <button id="btnSubmitValues" type="button" class="cust-submit-btn">SUBMIT</button>
    </div>

    <div
        style="text-align: center; margin-top: 15px;font-family: 'Roboto Condensed';font-weight: 600;color: #df0808;font-size: 13px;">
        <span id="error_message"></span>
    </div>

    <script src="../public/swiper-bundle.min.js"></script>

    <script src="../jquery/jquery-3.7.1.min.js"></script>

    <script>
        var swiper = new Swiper('.swiper-container.two', {
            pagination: {
                el: '.swiper-pagination',
                clickable: true,
            },
            effect: 'coverflow',
            loop: true,
            centeredSlides: true,
            slidesPerView: 'auto',
            coverflow: {
                rotate: 0,
                stretch: 100,
                depth: 150,
                modifier: 1.5,
                slideShadows: false,
            }
        });

        $("#btnSubmitValues").on("click", function () {
            $("#error_message").html("");
            //console.log('Submit clicked...');
            var val1 = $('#level_1_sel_val').html();
            var val2 = $('#level_2_sel_val').html();
            var val3 = $('#level_3_sel_val').html();
            var val4 = $('#level_4_sel_val').html();
            var val5 = $('#level_5_sel_val').html();
            var val6 = $('#level_6_sel_val').html();

            let jsonObject = {
                "koebner_phenomenon": val1,
                "follicular_papules": val2,
                "fibrosis_papillary_dermis": val3,
                "clubbing_rete_ridges": val4,
                "disappearance_granular_layer": val5,
                "vacuolisation_damage_basal_layer": val6
            };

            fetch('http://localhost:5000/predict', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(jsonObject),
            })
                .then(response => response.json())
                .then(data => document.getElementById("output").innerHTML = `Class:` + data.prediction)
                .catch((error) => {
                    console.error('Error:', error);
                });

            if (val1 == "-" || val2 == "-" || val3 == "-" || val4 == "-" || val5 == "-" || val6 == "-") {
                //console.log("Select all values!");
                $("#error_message").html("Select all valid values and proceed!");
            }
        });

        $(".rbtn_lvl1").on("click", function () {

            var value = $(this).find("input[name='radioset1']").val();
            console.log(value);
            $('#level_1_sel_val').html(value);
        });

        $(".rbtn_lvl2").on("click", function () {

            var value = $(this).find("input[name='radioset2']").val();
            console.log(value);
            $('#level_2_sel_val').html(value);
        });

        $(".rbtn_lvl3").on("click", function () {

            var value = $(this).find("input[name='radioset3']").val();
            console.log(value);
            $('#level_3_sel_val').html(value);
        });

        $(".rbtn_lvl4").on("click", function () {

            var value = $(this).find("input[name='radioset4']").val();
            console.log(value);
            $('#level_4_sel_val').html(value);
        });

        $(".rbtn_lvl5").on("click", function () {

            var value = $(this).find("input[name='radioset5']").val();
            console.log(value);
            $('#level_5_sel_val').html(value);
        });

        $(".rbtn_lvl6").on("click", function () {

            var value = $(this).find("input[name='radioset6']").val();
            console.log(value);
            $('#level_6_sel_val').html(value);
        });

    </script>

</body>

</html>